说明

线上域名：http://workorder.crius.api.ksyun.com

测试域名：http://stage.mplatform.process.ksyun.com:8011

权限申请：api接口鉴权

接口申请流程

请先部门负责人邮件回复确认，同时抄送：ksc-mplatform@kingsoft.com

邮件模版

XXXX团队申请工单数据接口权限

申请接口：XXXX

用途：xxx

App_id负责人：张三（zhangsan2）

工单列表

接口地址 /workorder/api/ticket/list_tickets

请求方式 POST, GET

consumes ["application/json"]

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

request

request

body

true

TicketListThirdRequest

TicketListThirdRequest

schema属性说明

TicketListThirdRequest

参数名称

参数说明

请求类型

是否必须

数据类型

schema

created_end

创建截止时间: 单位秒

body

false

integer(int64)



created_start

创建开始时间: 单位秒

body

false

integer(int64)



creator_id

工单发起人，业务平台长工号

body

false

integer(int64)



customer_organization_name

客户名称

body

false

string



page

起始页，从1开始（不传默认为1）

body

false

integer(int32)



page_size

分页大小（不传默认为10）

body

false

integer(int32)



product_group_id

产品线ID

body

false

array



status

工单状态，1=待处理，2=处理中，3=已关闭，4=已取消

body

false

integer(int32)



type

工单类型，1=问题排查，2=需求反馈，3=咨询

body

false

integer(int32)



sub_type 

工单子类型ID 

body 

false 

integer(int32) 

 

second_subtype 

工单二级子分类ID 

body 

false 

integer(int32) 

 

请求实例

{
	"created_end": 0,
	"created_start": 0,
	"creator_id": 0,
	"customer_organization_name": "",
	"page": 1,
	"page_size": 10,
	"product_group_id": [],
	"type": 0,
	"status": 0,
	"sub_type": 0,
	"second_subtype": 0
}

响应参数

参数名称

参数说明

类型

schema

data



TicketPage

TicketPage

errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



schema属性说明

TicketPage

参数名称

参数说明

类型

schema

pagination

分页相关

Pagination

Pagination

tickets

列表

array

TicketListThirdResponse

Pagination

参数名称

参数说明

类型

schema

page_size

分页大小

integer(int32)



total

总记录数

integer(int64)



TicketListThirdResponse

参数名称

参数说明

类型

说明

closed_time

工单关闭时间

integer(int64)



created_time

创建时间

integer(int64)



creator_name

创建人姓名

string



customer_organization_name

客户名称

string



customer_user_id

客户子账号ID

string



detail

工单详情

string



form_values

附加表单数据

string



handler

处理人（业务平台长工号）

integer(int64)



id

工单ID

integer(int64)



manager

负责人（业务平台长工号）

integer(int64)



need_process

是否需要流转，1=是，0=否

integer(int32)



priority

优先级，1=紧急，2=高级，3=普通

string



product_group

产品线名称

string



reported_time

客户来访时间

integer(int64)



status

工单状态

string



tags

标签

string



title

工单标题

string



type

工单类型，1=问题排查，2=需求反馈，3=咨询

integer(int32)



sub_type 

工单子类型ID 

integer(int32) 

 

second_subtype 

工单二级子分类ID 

integer(int32) 

 

响应示例

{
    "data": {
        "pagination": {
            "page_size": 0,
            "total": 0
        },
        "tickets": [
            {
                "closed_time": 0,
                "created_time": 0,
                "creator_name": "",
                "customer_organization_name": "",
                "customer_user_id": "",
                "detail": "",
                "form_values": "",
                "handler": 0,
                "id": 0,
                "manager": 0,
                "need_process": 0,
                "priority": "",
                "product_group": "",
                "reported_time": 0,
                "status": "",
                "tags": "",
                "title": "",
                "type": 0,
				"sub_type": 0,
				"second_subtype": 0
            }
        ]
    },
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

根据工单id获取工单基本信息

接口地址 /workorder/api/ticket/base

请求方式 GET

consumes ``

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

id

工单ID

query

true

integer



响应参数

参数名称

参数说明

类型

schema

data



Ticket工单表

Ticket工单表

errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



schema属性说明

Ticket工单表

参数名称

参数说明

类型

schema

closed_time

关单时间（秒级时间戳）

integer(int64)



created_time

创建时间（秒级时间戳）

integer(int64)



creator_id

创建人ID

integer(int64)



creator_name

创建人姓名

string



customer_organization_id

客户公司ID

integer(int64)



customer_organization_name

客户公司名称

string



detail

工单详情

string



finished_time

完成时间（秒级时间戳）

integer(int64)



id

工单ID

integer(int64)



is_solved

是否解决0否1是

boolean



is_suspended_notice

是否挂起0否1是

boolean



need_process

是否需要流转

boolean



priority

优先级；1=紧急，2=高级，3=普通

integer(int32)



product_group_id

初选产品线ID

integer(int64)



reported_time

客户联系时间（秒级时间戳）

integer(int64)



solved_time

客户确认解决时间（秒级时间戳）

integer(int64)



started_time

开始处理时间（秒级时间戳）

integer(int64)



status

工单状态；1=待处理，2=处理中，3=已关闭，4=已取消

integer(int32)



suspended_time

挂起时间（秒级时间戳）

integer(int64)



title

工单标题

string



type

工单类型；1=问题排查，2=需求反馈，3=咨询

integer(int32)



updated_progress_time

更新进展时间（秒级时间戳）

integer(int64)



updated_time

更新时间（秒级时间戳）

integer(int64)



响应示例

{
  "errno": 10000,
  "errmsg": "OK",
  "data": {
    "id": 1204,
    "type": 1,
    "title": "测试",
    "detail": "测试",
    "status": 2,
    "priority": 3,
    "need_process": false,
    "creator_id": 38361,
    "creator_name": "姜程",
    "customer_organization_id": 1,
    "customer_organization_name": "北京金山云网络技术有限公司",
    "product_group_id": 36,
    "updated_time": 1635766132,
    "started_time": 0,
    "suspended_time": 0,
    "updated_progress_time": 0,
    "finished_time": 1632742075,
    "solved_time": 0,
    "closed_time": 0,
    "is_solved": false,
    "is_suspended_notice": false,
    "reported_time": 1632742020,
    "created_time": 1632742075
  },
  "request_id": "f6d607003d4a46ef9633fa670e398355"
}

根据工单id获取工单详情信息

接口地址 /workorder/api/ticket/detail

请求方式 GET

consumes ``

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

id

工单ID

query

true

integer



响应参数

参数名称

参数说明

类型

schema

data



TicketDetail

TicketDetail

errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



schema属性说明

TicketDetail

参数名称

参数说明

类型

schema

assigns

指派人信息

array

TicketAssign

attachment

附件

array

Attachment

close_duration

关单时长（秒）

integer(int64)



closed_time

关单时间（秒级时间戳）

integer(int64)



confirm_duration

确认时长(完成时间到确认解决时间)（秒）

integer(int64)



created_duration

提单时长(客户提出到创建)（秒）

integer(int64)



created_time

创建时间，例如：2021-11-11 11:11:11

string(date-time)



creator_id

创建人ID

integer(int64)



creator_name

创建人姓名

string



customer_info

客户信息

array

CustomerInfo

customer_organization_id

客户公司ID

integer(int64)



customer_organization_name

客户公司名称

string



detail

工单详情

string



feedback

工单质量评价，参考：工单字典表

string



feishu_group_id

工单飞书群ID

string



finished_time

完成时间（秒级时间戳）

integer(int64)



form_define

表单字段定义

array

TicketFormField

form_id

附加表单id

integer(int64)



form_values

自定义表单值，key：字段名，value：字段值

map



handle_attachment

处理排查附件

array

Attachment

id

工单ID

integer(int64)



is_creator

是否是创建人

boolean



is_solved

是否解决0否1是

boolean



is_suspended_notice

是否挂起0否1是

boolean



need_process

是否需要处理

boolean



pending_duration

接单时长

integer(int64)



priority

优先级；1=紧急，2=高级，3=普通

integer(int32)



process_duration

处理时长(创建时间到完成时间)

integer(int64)



product_group_id

初选产品线ID

integer(int64)



product_group_name

产品线名称

string



relate_to_ticket_id

关联工单ID

integer(int64)



reported_time

客户联系时间，例如：2021-11-11 11:11:11

string(date-time)



second_subtype

工单二级子类型

integer(int64)



second_subtype_name

工单二级子类型名称

string



solved_time

客户确认解决时间（秒级时间戳）

integer(int64)



started_time

开始处理时间（秒级时间戳）

integer(int64)



status

工单状态；1=待处理、2=处理中、3=已关闭、4=已取消

integer(int32)



sub_type

工单子类型ID

integer(int64)



sub_type_name

工单子类型名称

string



suspended_duration

挂起时长（秒）

integer(int64)



suspended_time

挂起时间（秒）

integer(int64)



tags

工单标签列表

array

Tag

title

工单标题

string



total_duration

总时长(客户提出到客户确认解决)

integer(int64)



type

工单类型；1=问题排查，2=需求反馈，3=咨询

integer(int32)



updated_progress_time

更新进展时间（秒级时间戳）

integer(int64)



updated_time

更新时间（秒级时间戳）

integer(int64)



use_relate_status

是否共用关联工单状态

boolean



TicketAssign工单分配表

参数名称

参数说明

类型

schema

created_time

分配时间（秒级时间戳）

integer(int64)



finished_time

完成时间（秒级时间戳）

integer(int64)



handled_time

处理时间（秒级时间戳）

integer(int64)



history

处理历史记录

array

TicketFlowHistory

id



integer(int64)



is_handler

是否是处理人

boolean



manager_name

负责人姓名

string



product_group_id

产品线ID

integer(int64)



product_group_name

产品线名称

string



status

产品线处理状态；1=待处理,2=处理中,3=处理完毕,4=已拒绝,5=已撤销

integer(int32)



ticket_id

工单ID

integer(int64)



updated_time

更新时间（秒级时间戳）

integer(int64)



user_group_id

用户组ID

integer(int64)



user_id

处理人ID

integer(int64)



user_name

处理人姓名

string



TicketFlowHistory

参数名称

参数说明

类型

schema

action

操作类型；参考工单字典表

integer(int32)



created_time

操作时间（秒级时间戳）

string(date-time)



creator_id

操作人ID

integer(int64)



creator_name

操作人姓名

string



creator_product_group_id

操作人代表业务线ID

integer(int64)



creator_user_group_id

操作人代表用户组ID

integer(int64)



detail

操作详情

string



id



integer(int64)



Attachment

参数名称

参数说明

类型

schema

author

上传用户id

integer(int64)



file_name

文件名

string



file_path

文件路径，ks3生成的临时文件路径，默认600秒

string



file_size

文件大小

integer(int64)



file_type

文件类型

string



CustomerInfo

参数名称

参数说明

类型

schema

attribute

客户属性

integer(int64)



business_director_id

业务负责人id

integer(int64)



business_director_name

业务负责人姓名

string



level

客户等级

integer(int32)



ticket_id

工单ID

integer(int64)



user_id

客户账号id

integer(int64)



TicketFormField

参数名称

参数说明

类型

schema

created_time

创建时间（秒级时间戳）

integer(int64)



display_name

字段展示名称

string



display_order

排序

integer(int32)



display_remarks

字段备注

string



form_id

自定义表单ID

integer(int64)



id



integer(int64)



is_deleted

是否删除

boolean



is_required

是否必填

integer(int32)



options

字段选项值

string



type

数据格式1文本框2多行文本框3下拉列表框4单选框5复选框6单个时间控件7起止双时间控件8列表框

integer(int32)



updated_time

更新时间（秒级时间戳）

integer(int64)



Tag工单标签

参数名称

参数说明

类型

schema

created_time

创建时间（秒级时间戳）

integer(int64)



id



integer(int64)



is_deleted

是否删除1是0否

boolean



is_enabled

是否启用1启用0禁用

boolean



name

标签名称

string



updated_time

更新时间（秒级时间戳）

integer(int64)



响应示例

{
    "data": {
        "assigns": [
            {
                "created_time": 0,
                "finished_time": 0,
                "handled_time": 0,
                "history": [
                    {
                        "action": 0,
                        "created_time": "",
                        "creator_id": 0,
                        "creator_name": "",
                        "creator_product_group_id": 0,
                        "creator_user_group_id": 0,
                        "detail": "",
                        "id": 0
                    }
                ],
                "id": 0,
                "is_handler": false,
                "manager_name": "",
                "product_group_id": 0,
                "product_group_name": "",
                "status": 0,
                "ticket_id": 0,
                "updated_time": 0,
                "user_group_id": 0,
                "user_id": 0,
                "user_name": ""
            }
        ],
        "attachment": [
            {
                "author": 0,
                "file_name": "",
                "file_path": "",
                "file_size": 0,
                "file_type": "imag/png"
            }
        ],
        "close_duration": 0,
        "closed_time": 0,
        "confirm_duration": 0,
        "created_duration": 0,
        "created_time": "",
        "creator_id": 0,
        "creator_name": "",
        "customer_info": [
            {
                "attribute": 0,
                "business_director_id": 0,
                "business_director_name": "",
                "level": 0,
                "ticket_id": 0,
                "user_id": 0
            }
        ],
        "customer_organization_id": 0,
        "customer_organization_name": "",
        "detail": "",
        "feedback": "",
        "feishu_group_id": "",
        "finished_time": 0,
        "form_define": [
            {
                "created_time": 0,
                "display_name": "",
                "display_order": 0,
                "display_remarks": "",
                "form_id": 0,
                "id": 0,
                "is_deleted": false,
                "is_required": 0,
                "options": "",
                "type": 0,
                "updated_time": 0
            }
        ],
        "form_id": 0,
        "form_values": {},
        "handle_attachment": [
            {
                "author": 0,
                "file_name": "",
                "file_path": "",
                "file_size": 0,
                "file_type": "imag/png"
            }
        ],
        "id": 0,
        "im_group_id": "",
        "is_creator": false,
        "is_solved": false,
        "is_suspended_notice": false,
        "need_process": false,
        "pending_duration": 0,
        "priority": 0,
        "process_duration": 0,
        "product_group_id": 0,
        "product_group_name": "",
        "relate_to_ticket_id": 0,
        "reported_time": "",
        "second_subtype": 0,
        "second_subtype_name": "",
        "solved_time": 0,
        "started_time": 0,
        "status": 0,
        "sub_type": 0,
        "sub_type_name": "",
        "suspended_duration": 0,
        "suspended_time": 0,
        "tags": [
            {
                "created_time": 0,
                "id": 0,
                "is_deleted": false,
                "is_enabled": false,
                "name": "",
                "updated_time": 0
            }
        ],
        "title": "",
        "total_duration": 0,
        "type": 0,
        "updated_progress_time": 0,
        "updated_time": 0,
        "use_relate_status": false
    },
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

拒绝工单

接口地址 /workorder/api/ticket/reject_handle

请求方式 POST

consumes ["application/json"]

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

request

request

body

true

TicketAutoOperateRequest

TicketAutoOperateRequest

schema属性说明

TicketAutoOperateRequest

参数名称

参数说明

请求类型

是否必须

数据类型

schema

detail

备注反馈内容

body

false

string



id

工单ID

body

false

integer(int64)



productGroupId

产品线ID

body

false

integer(int64)



请求示例

{
	"detail": "",
	"id": 0,
	"productGroupId": 0
}

响应参数

参数名称

参数说明

类型

schema

data



object



errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



响应示例

{
    "data": {},
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

评论工单

接口地址 /workorder/api/ticket/comment_ticket

请求方式 POST

consumes ["application/json"]

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

request

request

body

true

TicketAutoOperateRequest

TicketAutoOperateRequest

schema属性说明

TicketAutoOperateRequest

参数名称

参数说明

请求类型

是否必须

数据类型

schema

detail

备注反馈内容

body

false

string



id

工单ID

body

false

integer(int64)



productGroupId

产品线ID

body

false

integer(int64)



请求示例

{
	"detail": "",
	"id": 0,
	"productGroupId": 0
}

响应参数

参数名称

参数说明

类型

schema

data



object



errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



响应示例

{
    "data": {},
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

创建工单

接口地址 /workorder/api/ticket/create

请求方式 POST

consumes ["application/json"]

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

request

request

body

true

TicketCreateRequest

TicketCreateRequest

schema属性说明

TicketCreateRequest

参数名称

参数说明

请求类型

是否必须

数据类型

schema

title 

工单标题 

body 

true 

string 

 

detail 

工单详情 

body 

true 

string 

 

tags 

工单标签id列表。获取标签列表接口 

body 

false 

array 

 

reported_time 

客户来访时间（秒级时间戳） 

body 

true 

integer(int64) 

 

type 

工单类型;1=问题排查，2=需求反馈，3=咨询 

body 

true 

integer(int32) 

 

priority 

优先级(受影响程度)1=高，2=中，3=低 

body 

true 

integer(int32) 

 

customer_organization_id 

客户ID 

body 

true 

integer(int64) 

 

customer_organization_name 

客户名称 

body 

true 

string 

 

customer_info 

客户信息 

body 

false 

array 

CustomerInfo 

repository_product_id 

whether_product_group_id=true表示自有产品产品线ID; whether_product_group_id=false表示产品库对应的产品线ID; 由于whether_product_group_id默认值为false, 故这里默认表示产品库产品线ID 

body 

true 

integer(int64) 

 

whether_product_group_id 

是否自有产品线ID: 默认值为false true=表示repository_product_id是自有产品的产品线ID; false=repository_product_id是产品库对应的产品线ID;  

body 

false 

boolean 

 

attachment

附件。上传附件的接口上传文件，然后再传递接口返回的参数

body

false

array

Attachment

need_process

是否需要流转

body

false

boolean



relate_to_ticket_id

关联工单id

body

false

integer(int64)



use_relate_status

是否共用关联工单状态，关联工单之后可以设置是否需要关联工单状态。默认false

body

false

boolean



form_id（暂不支持） 

自定义表单id。根据工单产品线id可以获取自定义表单信息 

body 

false 

integer(int64) 

 

form_values（暂不支持） 

自定义表单值 

body 

false 

map 

 

creator_id 

创建人id（长工号） 

body 

true 

integer(int64) 

 

creator_name 

创建人姓名 

body 

true 

string 

 

Attachment

参数名称

参数说明

请求类型

是否必须

数据类型

schema

author

上传用户id

body

false

integer(int64)



file_name

文件名

body

true

string



file_path

文件路径

body

true

string



file_size

文件大小

body

true

integer(int64)



file_type

文件类型

body

true

string



CustomerInfo

参数名称

参数说明

请求类型

是否必须

数据类型

schema

user_id 

客户账号id 

body 

true 

integer(int64) 

 

attribute

客户属性

body

false

integer(int64)



business_director_id

业务负责人id

body

false

integer(int64)



business_director_name

业务负责人姓名

body

false

string



level

客户等级

body

false

integer(int32)



请求参数

{
	"attachment": [
		{
			"author": 0,
			"file_name": "",
			"file_path": "",
			"file_size": 0,
			"file_type": "imag/png"
		}
	],
	"customer_info": [
		{
			"attribute": 0,
			"business_director_id": 0,
			"business_director_name": "",
			"level": 0,
			"ticket_id": 0,
			"user_id": 0
		}
	],
	"customer_organization_id": 0,
	"customer_organization_name": "",
	"detail": "",
	"form_id": 0,
	"form_values": {},
	"handle_attachment": [
		{
			"author": 0,
			"file_name": "",
			"file_path": "",
			"file_size": 0,
			"file_type": "imag/png"
		}
	],
	"id": 0,
	"is_solved": false,
	"need_process": false,
	"priority": 0,
	"repository_product_id": 0,
	"relate_to_ticket_id": 0,
	"reported_time": 0,
	"second_subtype": 0,
	"sub_type": 0,
	"tags": [],
	"title": "",
	"type": 0,
	"use_relate_status": false,
    "creator_id": 0,
    "creator_name": ""
}

响应参数

参数名称

参数说明

类型

schema

data



com.kingsoft.walle.model.Ticket工单表

com.kingsoft.walle.model.Ticket工单表

errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



schema属性说明

com.kingsoft.walle.model.Ticket工单表

参数名称

参数说明

类型

schema

id

工单id

integer(int64)



响应示例

{
    "data": {
        "id": 0
    },
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

关闭工单 

接口地址 /workorder/api/ticket/close_ticket

请求方式 POST

consumes ["application/json"]

produces ["*/*"]

接口描述 关闭工单, 仅工单的创建人可关闭工单

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

是否必须

数据类型



closer_id

关单操作人员工号, 通讯录工号

true

Long



closer_name 

关单操作人姓名 

true 

String 

 

detail 

关闭工单时的备注反馈内容 

false 

String 

 

handle_attachment 

问题处理排查附件 

false 

Object 

当handle_attachment传递了参数时, 以下参数均为必填上传附件的接口上传文件，然后再传递接口返回的参数参数名称参数说明数据类型是否必须author上传用户idLongtruefile_name文件名stringtruefile_path文件路径stringtruefile_size文件大小Longtruefile_type文件类型stringtrue 

id 

工单ID 

true 

Long 

 

is_solved 

是否已定位原因 true=已定位; false or null=未定位 

false 

Boolean 

 

solved_time 

客户确认问题解决时间: 时间戳, 单位秒 

true 

Long 

 

接口请求参数示例

无关问题处理排查附件请求参数示例
{
    "closer_id": 40084,
    "closer_name":"田金秀",
	"detail": "这是工单关闭的备注反馈内容",
	"id": 1473,
	"is_solved": false,
	"solved_time": 1660298589,
}

有关问题处理排查附件请求参数示例
{
    "closer_id": 40084,
    "closer_name":"田金秀",
	"is_solved": false,
	"detail": "这是工单关闭的备注反馈内容",
	"solved_time": 1660298580,
	"handle_attachment": [{
		"author": 40084,
		"file_name": "test.png",
		"file_type": "image/png",
		"file_path": "workorder/40084/dc4ced807eec9218bf2fe9513ebc9b99",
		"file_size": 195204
	}],
	"id": 1473
}




响应参数

参数名称

参数说明

类型

schema

errmsg



string



errno

10000表示接口请求成功, 其他均表示失败

integer(int32)

integer(int32)

request_id



string



正确接口响应示例
{
    "errmsg": "OK",
    "errno": 10000,
    "request_id": "f1fab7321a7548c389131e22bb72eb35"
}
异常接口响应示例
{
    "errno": 23000,
    "errmsg": "工单状态不允许关闭",
    "request_id": "f1fab7321a7548c389131e22bb72eb35"
}

上传附件

接口地址 /workorder/api/ticket/upload_file

请求方式 POST

consumes ["application/json"]

produces ["*/*"]

接口描述 ``

请求Header

Header名称

Header说明

AppId

鉴权的appId

Timestamp 

时间戳  只能是秒级或毫秒级 

Sign 

api接口鉴权 

请求参数

参数名称

参数说明

请求类型

是否必须

数据类型

schema

file

需要上传的文件

query

false

file



响应参数

参数名称

参数说明

类型

schema

data



Attachment

Attachment

errmsg



string



errno



integer(int32)

integer(int32)

request_id



string



schema属性说明

Attachment

参数名称

参数说明

类型

schema

author

上传用户id

integer(int64)



file_name

文件名

string



file_path

文件路径

string



file_size

文件大小

integer(int64)



file_type

文件类型

string



响应示例

{
    "data": {
        "author": 0,
        "file_name": "",
        "file_path": "",
        "file_size": 0,
        "file_type": "imag/png"
    },
    "errmsg": "",
    "errno": 0,
    "request_id": ""
}

