# éƒ¨ç½²æŒ‡å— (Deployment Guide)

> **æ–‡æ¡£ç‰ˆæœ¬**: v2.0
> **æ›´æ–°æ—¥æœŸ**: 2026-01-27
> **é€‚ç”¨å®ç°**: Fastify (backend) + agentscope-service (FastAPI) + PostgreSQL + Redis

---

## 1. éƒ¨ç½²æ¶æ„æ€»è§ˆ

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         è´Ÿè½½å‡è¡¡ (Nginx/ALB)                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚             â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
â”‚Frontendâ”‚   â”‚Frontendâ”‚   â”‚Frontendâ”‚  (Vite é™æ€ç«™ç‚¹)
â”‚  Pod1  â”‚   â”‚  Pod2  â”‚   â”‚  Pod3  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    â”‚             â”‚             â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚       Backend (Fastify)   â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚
    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚             â”‚                     â”‚
â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”€â”       â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
â”‚ Postgresâ”‚  â”‚  Redis  â”‚       â”‚AgentScope   â”‚  (FastAPI)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 2. ç³»ç»Ÿè¦æ±‚

- Docker Desktop æˆ– Docker Engine + Compose
- Node.js 18+ï¼ˆæœ¬åœ°å¼€å‘/æ„å»ºï¼‰
- PostgreSQL 15+ / Redis 7+ï¼ˆéå®¹å™¨éƒ¨ç½²æ—¶ï¼‰

---

## 3. Docker éƒ¨ç½²ï¼ˆæ¨èï¼‰

é¡¹ç›®å·²æä¾› `docker-compose.yml`ï¼ŒåŒ…å«ï¼špostgresã€redisã€backendã€agentscope-serviceã€frontendã€prometheusã€grafanaã€nginxã€‚

```bash
# æ‹‰èµ·ä¾èµ–æœåŠ¡
docker compose up -d postgres redis

# å¯åŠ¨å…¨é‡æœåŠ¡
docker compose up -d --build

# æŸ¥çœ‹çŠ¶æ€
docker compose ps
```

é»˜è®¤ç«¯å£ï¼š
- Backend: http://localhost:8080
- Frontend: http://localhost:3000ï¼ˆå®¹å™¨æ˜ å°„ï¼‰
- AgentScope: http://localhost:5000
- Prometheus: http://localhost:9090
- Grafana: http://localhost:3001

---

## 4. ç”Ÿäº§éƒ¨ç½²å»ºè®®

- **å‰ç«¯**ï¼šæ„å»ºé™æ€èµ„æºåäº¤ç”± Nginx/CDN æ‰˜ç®¡
- **åç«¯**ï¼šæ— çŠ¶æ€éƒ¨ç½² + æ°´å¹³æ‰©å±•ï¼ˆå¤šå‰¯æœ¬ï¼‰
- **AgentScope**ï¼šå•ç‹¬æ‰©å®¹ï¼ˆä¸åç«¯è§£è€¦ï¼‰
- **æ•°æ®åº“**ï¼šä¸»ä»/æ‰˜ç®¡æœåŠ¡ï¼Œå¼€å¯å¤‡ä»½
- **ç¼“å­˜**ï¼šRedis ä¸»ä»æˆ–é›†ç¾¤

---

## 5. å¥åº·æ£€æŸ¥ä¸éªŒè¯

```bash
# Backend
curl http://localhost:8080/health

# AgentScope
curl http://localhost:5000/health

# Metrics
curl http://localhost:8080/metrics
```

---

## ğŸ“ ç›¸å…³æ–‡æ¡£

- [ç¯å¢ƒé…ç½®æ–‡æ¡£](./ENVIRONMENT_SETUP.md)
- [æ•°æ®åº“è¿ç§»æ–‡æ¡£](./DATABASE_MIGRATION.md)
- [CI/CDæµæ°´çº¿æ–‡æ¡£](./CI_CD_PIPELINE.md)
- [è¿ç»´æ‰‹å†Œ](../operations/OPERATIONS_RUNBOOK.md)

---

**ç»´æŠ¤å›¢é˜Ÿ**: DevOps
